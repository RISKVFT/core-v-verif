#!/bin/bash

function func () {
	local len=0
	while [[ $1 != '' ]] && ! [[ $1 =~ ^-[a-zA-Z\-]*$ ]] ; do
		BPAR="$BPAR $1"
		echo "fnc $1" 
		let len=len+1
		shift	
	done
	ARG=$len
}

par=$(echo "$@" | awk 'BEGIN{RS=" "};{if ($0 ~ /^-[a-zA-Z\-]*$/) print $0; if ($0 ~ /^-[a-zA-Z\-]*\n/) print $0}')
echo "Argument taken: $par"

BPAR=""
newpar=""
while [[ $1 != '' ]]; do
	echo "while1 $1"
	case $1 in
		-c)
			cc=2
			shift
			;;
		-g)	
			gui=1
			shift
			;;
		-b)
			shift
			shift $(func $@)
			;;
	esac
done
echo "newpar $newpar"
echo "bpar $BPAR"

